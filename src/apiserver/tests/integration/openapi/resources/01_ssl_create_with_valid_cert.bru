meta {
  name: create_ssl
  type: http
  seq: 8
}

post {
  url: {{scheme}}://{{host}}/api/v1/open/gateways/{{gateway_name}}/resources/ssls/
}

headers {
  Content-Type: application/json
  X-BK-API-TOKEN: {{x_bk_api_token}}
}

body {
    [
        {
          "name": "test_ssl_with_valid_cert",
          "config": {
            "cert": "-----BEGIN CERTIFICATE-----\nMIIDJzCCAg+gAwIBAgIRAJvCZRh2nejK7+Ss3AgrEa0wDQYJKoZIhvcNAQELBQAw\ngYoxEjAQBgNVBAMMCWxkZGdvLm5ldDEMMAoGA1UECwwDZGV2MQ4wDAYDVQQKDAVs\nZGRnbzELMAkGA1UEBhMCQ04xIzAhBgkqhkiG9w0BCQEWFGxlY2hlbmdhZG1pbkAx\nMjYuY29tMREwDwYDVQQHDAhzaGFuZ2hhaTERMA8GA1UECAwIc2hhbmdoYWkwHhcN\nMjUwMjI2MDE0ODQ0WhcNMjcwMjI2MDE0ODQ0WjATMREwDwYDVQQDDAh0ZXN0LmNv\nbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAIIJ82TMFlWOR7dDkJ0X\nLclmCUDlefEJY2laYPWxaCe3oaIndosUmgm5aovYUTWDRAByn56HPFub5fc2Kt9v\n5+HWVd149JuP43F5NXaUKbE6GuXUWR7WhorzIRbabvvkE4SdpkrGwthi6AxUnvKK\naHKn11hSk+MBUWxjhSJoQy/ds3fKSpq7j+LAMRmQo9a3uW/HBl7FdfWIH5ZTN3Q8\n+ZDMc2zrEqOXFBGFBwzsbcVGNppMkUBuYmxIp7O3slB7rH7oOkdpYReIwWQOOswO\nhbBu5UGqC8nMX0N0jhzMyxrvDOIFSjjKiXuu46qd+t/GxUB9+8ZJ/Fn3WsJ6iQf7\n+cMCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEARSufAXUin/eFxcpojYMZ6F3t6VYp\njiZ+3Sx+UjQ4mq3qq8eQ/r0haxGtw2GeMuyprfxj6YTX6erQlJKkDk8vJXpDbFR4\n4dj1g4VQDZshPH2j2HJ/4l/kAvbDy/Rj9eIdV0Ux+t8s7MYgP7yf35Nb1ejJyWhB\nPS56NWCyj43lJcwnUmH4EAvLiFdgGgiaPQdm2/XlyEd8UVZugihIgjlQ3XKwMwsb\nXFfjJdDgdhFO5jmtU+rdEQWuaJDCEEWQJfMFmWRGApri97T/14QOulTqCXfk8+Wq\nw4WMGMQt3zIALlf7Meknv2qfTxax3JAO8lf7KuN5A4S5SuqAHke9NfGzAA==\n-----END CERTIFICATE-----",
            "key":"-----BEGIN RSA PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCCCfNkzBZVjke3\nQ5CdFy3JZglA5XnxCWNpWmD1sWgnt6GiJ3aLFJoJuWqL2FE1g0QAcp+ehzxbm+X3\nNirfb+fh1lXdePSbj+NxeTV2lCmxOhrl1Fke1oaK8yEW2m775BOEnaZKxsLYYugM\nVJ7yimhyp9dYUpPjAVFsY4UiaEMv3bN3ykqau4/iwDEZkKPWt7lvxwZexXX1iB+W\nUzd0PPmQzHNs6xKjlxQRhQcM7G3FRjaaTJFAbmJsSKezt7JQe6x+6DpHaWEXiMFk\nDjrMDoWwbuVBqgvJzF9DdI4czMsa7wziBUo4yol7ruOqnfrfxsVAffvGSfxZ91rC\neokH+/nDAgMBAAECggEACSzKj4IW0VKInNWXjn3kLSGV5Y5LXEZdTUGjNbKetq6u\nKNK/+nApriX27ocEs9HfKmjr+jNwfsYxI5Ae1kT/B2AoDshJ+e/dDFSRARzTFD4V\nR8IDx7k7JPKikwo2am9dMS4uXXhIpxvTY4tU66f4Vp6hAwpQhOPC6vLaoeLZWrcg\nAjjPTud/1N8D+CMsnsrfLh9XPLvUZIqYm5DCgE6fFle1/X/YrqzzMzflCG3Ns5Gv\nMY0i1xR7baAj8nT9iG+MCvCW8Ak2++pweX2Hli6l5aqk+esDU/zUAdddJdtpufGT\nkobCOKtqNXzEj6UGrsQU/27dc1tQKt4VgRvsgC+aAQKBgQC5zySFCpqtZY/naKnw\nGXf1Pl7r8aTuWVA+8ziRiyPlyI60oMHhu0bSIoRIh7lpa8km/cNsJOMTFWmHUANT\ndu53icmSCO++M1d+nrl3aWYyqbAlFvqMPtiW5/pYRnWJi4GSQTonGY32EhmN1qo5\nJbmj7NVxRnX0g9OTX4+f5MdCUQKBgQCzKXzwim/KxeOeVURVu/LQGK+Or2Ssyzjr\nz8MPQ2OE5DX528hLkE5h0EVhffSrsTfQiiMIhzU/Rywa7khNRqsTmhFEHM5JI+Rl\nGZgGgG4T5Q3idfrx3jXGqMylmoR0pA+4aGpSGg135vuIhJWCn8RI/mgMl0KP6Nax\nSSZkex4B0wKBgFr470FwIrEY068SEHnsjk31fpX4lq7X7bEUdjLUM/wyCKSpPKPf\nhFon6ip0wTO7QR4lCoQtPzw9tJA6fZZk2XaPcLBeTbsK+iCVZ+ruIMpXSFWwfXUi\n4/pmk6yaurtgIU1RQD6ahWXgEMDgRDF8pfp7Xzl5rRDNZk52cCRx55kxAoGAV4/p\nTi56oKHCszl9ImGvNGE8PAIgtArGkQmDjcwjsWlPsAPoinXGuStvHUzP7bG5U6SP\nprVeIsUIG0ll8M6fAf+EfMOPVlPCZl7x3AucwQBrnsiGkvtFUQhirHUuU0tzm278\nt4+gEX/EY15ZK/QlnH8qHy02DNuBQjg8GVPKwJ0CgYATHdUKjNJG0dMkJ8pjjsI1\nXOYqFo7bXeA5iw6gvmhGTt0Oc7QkOt/VWyvGvRn4UPXcaZixEsFj+rKVlCbZG9gJ\nDvC3nKL8jGXiVs0eJot2WHZJlM04YqzSlaqBNW5O+p/IMmJ1q1zehGm1oIHq0RlA\ncO+a+H4tgy7YSbgYm32XKQ==\n-----END RSA PRIVATE KEY-----"
          }
        }
    ]
}


assert {
  res.status: eq 400
}