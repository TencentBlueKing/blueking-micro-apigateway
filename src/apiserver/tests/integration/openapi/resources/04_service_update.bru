meta {
  name: service_update
  type: http
  seq: 27
}

put {
  url: {{scheme}}://{{host}}/api/v1/open/gateways/{{gateway_name}}/resources/services/{{service_id}}/
}

headers {
  X-BK-API-TOKEN: {{x_bk_api_token}}
  Content-Type: application/json
}

body {
  {
    "name": "test_service",
    "config": {
      "name": "test_service",
      "upstream": {
        "type": "roundrobin",
        "nodes": [
          {
            "host": "httpbin.org",
            "port": 443,
            "weight": 1
          }
        ]
      }
    }
  }
}

assert {
  res.status: eq 204
}
