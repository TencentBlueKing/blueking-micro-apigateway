meta {
  name: upstream_update
  type: http
  seq: 29
}

put {
  url: {{scheme}}://{{host}}/api/v1/open/gateways/{{gateway_name}}/resources/upstreams/{{upstream_id}}/
}

headers {
  X-BK-API-TOKEN: {{x_bk_api_token}}
  Content-Type: application/json
}

body {
  {
    "name": "test_upstream-222",
    "config": {
        "name": "test_upstream-222",
        "type": "roundrobin",
        "nodes": {
          "127.0.0.1:1980": 1
        },
        "timeout": {
          "read": 1000,
          "send": 1000,
          "connect": 1000
        }
    }
  }
}

assert {
  res.status: eq 204
}
